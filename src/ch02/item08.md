# finalizer와 cleaner 사용을 피하라

## 자바의 두 가지 객체 소멸자
: GC가 객체를 회수하기 전에 호출하는 메서드


- finalizer
: 예측할 수 없고, 상황에 따라 위험할 수 있어 일반적으로 불필요하다.
    - 심각한 성능 문제를 일으킬 수 있다.
    - 자바9에서는 deprecated 되었다.
    - 처리중 발생 예외도 무시, 작업도 무시됨. 경고조차 없다.
    - 보안 이슈 발생 위험도 있다.

- cleaner
: finalizer보다 덜 위험하지만, 여전히 예측할 수 없고, 느리고, 일반적으로 불필요하다.


위 두가지 모두 
- 즉시 수행된다는 보장이 없다.
- 수행 시점뿐 아니라 수행 여부도 보장하지 않는다.
- 수행 시점은 전적으로 GC의 알고리즘에 달림
- try-with-resource 나 try-finally 사용 권장
- 프로그램 생애주기와 상관없는 작업이나 맡겨 ex. DB같은 공유 자원의 영구락 해제 - 분산 시스템 전체가 서서히 멈춘다.